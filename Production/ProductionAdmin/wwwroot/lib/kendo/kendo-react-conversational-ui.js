!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("prop-types"),require("@progress/kendo-react-intl")):"function"==typeof define&&define.amd?define(["react","prop-types","@progress/kendo-react-intl"],e):"object"==typeof exports?exports.KendoReactConversationalUi=e(require("react"),require("prop-types"),require("@progress/kendo-react-intl")):t.KendoReactConversationalUi=e(t.React,t.PropTypes,t.KendoReactIntl)}(window,function(t,e,n){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e);var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!0!==t&&!!t}).map(function(t){return Array.isArray(t)?o.apply(void 0,t):"object"==typeof t?Object.keys(t).map(function(e,n){return t[n]||t[e]&&e||null}).filter(function(t){return null!==t}).join(" "):t}).filter(function(t){return!!t}).join(" ")},r=function(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n},s={backspace:8,tab:9,enter:13,shift:16,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,delete:46},i=function(){},a=function(){return function(){}}(),c=n(0),p=n(1),u=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:!1},e.handleFocus=function(t){e.setState({focused:!0})},e.handleBlur=function(t){e.setState({focused:!1})},e}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.label,n=t.id,r=t.className,s=t.value,i=t.placeholder,a=t.valid,p=t.style,u=o({"k-textbox-container":!0,"k-state-focused":this.state.focused,"k-state-empty":!(s||i),"k-state-invalid":!a&&void 0!==a},r);return c.createElement("span",{className:u,onFocus:this.handleFocus,onBlur:this.handleBlur,style:p},this.props.children,e?n?c.createElement("label",{htmlFor:n,className:"k-label"},e):c.createElement("span",{className:"k-label"},e):null)},e.propTypes={label:p.string,id:p.string,value:p.string,placeholder:p.string,valid:p.bool},e}(c.Component);n.d(e,"classNames",function(){return o}),n.d(e,"guid",function(){return r}),n.d(e,"Keys",function(){return s}),n.d(e,"noop",function(){return i}),n.d(e,"FloatingLabel",function(){return l}),n.d(e,"FormComponent",function(){return a})},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.componentDidUpdate=function(t){!t.selected&&this.props.selected&&this.elementToFocus.focus()},e}(n(0).Component);e.FocusableUponSelection=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAuthor=function(t,e){return t&&e.author&&t.id===e.author.id}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={selectedItemIndex:null,isKeyboardNavigationLeftRight:!0},e.onRequestContainerSelection=function(){return e.props.onRequestSelection(e.props.group.selectionIndex)},e.onKeyDown=function(t){var n=null,o=e.state.isKeyboardNavigationLeftRight?s.Keys.left:s.Keys.up,r=e.state.isKeyboardNavigationLeftRight?s.Keys.right:s.Keys.down;t.keyCode===o?n=e.navigate(!1):t.keyCode===r&&(n=e.navigate(!0)),null!==n&&(t.preventDefault(),t.stopPropagation())},e}return o(e,t),e.prototype.componentWillReceiveProps=function(t){!this.props.selected&&t.selected?this.setState(function(t){return t.selectedItemIndex?{}:{selectedItemIndex:0}}):this.props.selected&&!t.selected&&this.setState({selectedItemIndex:null})},e.prototype.navigate=function(t,e){void 0===e&&(e=0);var n=null,o=this.state.selectedItemIndex;return t?null===o?n=e:o<this.getLastSelectionIndex()&&(n=o+1):null===o?n=0:o>0&&(n=o-1),null!==n&&this.setState({selectedItemIndex:n}),n},e.prototype.getLastSelectionIndex=function(){var t=-1;if("action-group"===this.props.group.type){var e=this.props.group;t=e.actions?e.actions.length-1:-1}else if("attachment-group"===this.props.group.type){var n=this.props.group;t=n.attachments?n.attachments.length-1:-1}return t},e}(r.Component);e.SelectableItemsContainer=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=this;return r.createElement("div",{className:this.getClassNames(),tabIndex:this.getTabIndexValue(),onClick:this.props.onClick,ref:function(e){return t.elementToFocus=e}},this.props.template?r.createElement(this.props.template,{item:this.props.item}):r.createElement("div",{className:"k-card"},r.createElement("div",{className:"k-card-body"},this.getTitleView(),this.getSubtitleView(),this.getContentView())))},e.prototype.getTabIndexValue=function(){return void 0===this.props.tabbable?void 0:this.props.tabbable?0:-1},e.prototype.getClassNames=function(){return s.classNames({"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected},"k-card-wrap",{"k-first":this.props.isFirstItemInGroup},{"k-last":this.props.isLastItemInGroup})},e.prototype.getTitleView=function(){return this.props.item.title?r.createElement("h5",{className:"k-card-title"},this.props.item.title):null},e.prototype.getSubtitleView=function(){return this.props.item.subtitle?r.createElement("h6",{className:"k-card-subtitle"},this.props.item.subtitle):null},e.prototype.getContentView=function(){return 0===this.props.item.contentType.indexOf("image/")?r.createElement("img",{src:this.props.item.content}):this.props.item.content},e}(n(3).FocusableUponSelection);e.default=i},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9);e.Chat=o.Chat,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(18))},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=n(1),i=n(0),a=n(10),c=n(11),p=n(13),u=n(14),l=n(15),f=n(17),m=function(t){function e(e){var n=t.call(this,e)||this;n.onFocus=function(){clearTimeout(n.timeoutIdForChatLosingFocus),n.selectLastViewItemWhenNoCurrentSelection()},n.onBlur=function(){n.timeoutIdForChatLosingFocus=setTimeout(function(){n.setState({selectedItemIndex:null})},0)},n.onSelectionRequested=function(t){n.setState({selectedItemIndex:t})},n.onKeyDown=function(t){var e=null,o=null!==n.state.selectedItemIndex?n.state.selectedItemIndex:n.state.viewItems.lastSelectionIndex;t.keyCode===r.Keys.up?null===o?e=0:o>0&&(e=o-1):t.keyCode===r.Keys.down&&(null===o?e=0:o<n.state.viewItems.lastSelectionIndex&&(e=o+1)),null!==e&&(n.setState({selectedItemIndex:e}),t.preventDefault())},n.onMessageSend=function(t,e){n.props.onMessageSend&&n.props.onMessageSend.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,message:t,target:n})},n.onActionExecute=function(t,e){if(n.props.onActionExecute&&n.props.onActionExecute.call(void 0,{syntheticEvent:e,nativeEvent:e.nativeEvent,action:t,target:n}),!e.isDefaultPrevented()){switch(t.type){case"reply":n.onMessageSend({author:n.props.user,text:t.value,timestamp:new Date},e);break;case"call":window.open("tel:"+t.value);break;case"openUrl":window.open(t.value)}n.newMsgComp.focusInput()}};var o=n.getViewItemsFromMsgs(e.messages);return n.state={viewItems:o,selectedItemIndex:null,isDirectionRightToLeft:null},n}return o(e,t),e.prototype.render=function(){var t=this;return i.createElement("div",{style:{width:this.props.width},onKeyDown:this.onKeyDown,className:this.getClassNames(),ref:function(e){return t.chatWrapperEl=e}},i.createElement("div",{className:"k-message-list k-avatars",onBlur:this.onBlur,onFocus:this.onFocus,role:"log","aria-live":"polite",ref:function(e){return t.viewItemsWrapperEl=e}},i.createElement("div",{className:"k-message-list-content"},this.renderViewItems())),i.createElement(f.default,{user:this.props.user,onMessageSend:this.onMessageSend,isDirectionRightToLeft:this.state.isDirectionRightToLeft,ref:function(e){return t.newMsgComp=e}}))},e.prototype.componentWillReceiveProps=function(t){this.setState({viewItems:this.getViewItemsFromMsgs(t.messages),isDirectionRightToLeft:this.checkIsDirectionRightToLeft(t)})},e.prototype.componentDidMount=function(){var t=this;this.setState({isDirectionRightToLeft:this.checkIsDirectionRightToLeft(this.props)},function(){t.nextTickId=setTimeout(function(){return t.scrollViewItemsToBottom()},250)})},e.prototype.componentWillUnmount=function(){clearTimeout(this.nextTickId)},e.prototype.componentDidUpdate=function(t){t.messages.length!==this.props.messages.length&&this.scrollViewItemsToBottom()},e.prototype.getClassNames=function(){return r.classNames("k-widget","k-chat",{"k-rtl":!0===this.state.isDirectionRightToLeft})},e.prototype.checkIsDirectionRightToLeft=function(t){return void 0!==t.dir?"rtl"===t.dir:this.chatWrapperEl&&"rtl"===getComputedStyle(this.chatWrapperEl).direction||!1},e.prototype.selectLastViewItemWhenNoCurrentSelection=function(){null===this.state.selectedItemIndex&&this.setState({selectedItemIndex:this.state.viewItems.lastSelectionIndex})},e.prototype.renderViewItems=function(){var t=this,e=this.state.viewItems.length-1;return this.state.viewItems.map(function(n,o){return"date-marker"===n.type?i.createElement(u.default,{item:n,key:o}):"message-group"===n.type?i.createElement(l.default,{group:n,itemTemplate:t.props.messageTemplate,attachmentTemplate:t.props.attachmentTemplate,user:t.props.user,selectedItemIndex:t.state.selectedItemIndex,onRequestSelection:t.onSelectionRequested,isLastGroup:o===e,key:o}):"attachment-group"===n.type?i.createElement(p.default,{group:n,itemTemplate:t.props.attachmentTemplate,onRequestSelection:t.onSelectionRequested,selected:n.selectionIndex===t.state.selectedItemIndex,isLastGroup:o===e,key:o}):"action-group"===n.type?i.createElement(c.default,{group:n,onActionExecute:t.onActionExecute,onRequestSelection:t.onSelectionRequested,selected:n.selectionIndex===t.state.selectedItemIndex,isLastGroup:o===e,key:o}):void 0})},e.prototype.scrollViewItemsToBottom=function(){this.viewItemsWrapperEl&&(this.viewItemsWrapperEl.scrollTop=this.viewItemsWrapperEl.scrollHeight-this.viewItemsWrapperEl.clientHeight)},e.prototype.getViewItemsFromMsgs=function(t){return t.length>0?a.convertMsgsToViewItems(t):[]},e.propTypes={messages:s.arrayOf(s.object),user:s.object,messageTemplate:s.any,attachmentTemplate:s.any,width:s.oneOfType([s.string,s.number]),onMessageSend:s.func,onActionExecute:s.func,dir:s.string},e.defaultProps={messages:[]},e}(i.Component);e.Chat=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=function(t){return t[t.length-1]},s=function(t){return function(e,n,s){var i=s===t-1;return function(t,e){var n=e.timestamp,o=r(t);if(n&&(!o||function(t,e){return t&&e&&(e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear())}(n,o.timestamp))){var s={type:"date-marker",timestamp:n,trackBy:n.getTime()};t.push(s)}}(e,n),function(t,e,n){var s=r(t),i=void 0;e.typing&&!n||(s&&"message-group"===s.type&&(i=s.messages),i&&o.isAuthor(e.author,r(i))?i.push(e):t.push({type:"message-group",messages:[e],author:e.author,timestamp:e.timestamp,trackBy:e}))}(e,n,i),n.attachments&&n.attachments.length>1&&e.push({type:"attachment-group",attachments:n.attachments,attachmentLayout:n.attachmentLayout,timestamp:n.timestamp,trackBy:n}),n.suggestedActions&&i&&e.push({type:"action-group",actions:n.suggestedActions,timestamp:n.timestamp,trackBy:n}),e}};e.convertMsgsToViewItems=function(t){var e=t.reduce(s(t.length),[]);return function(t){var e=0;t.forEach(function(t){"message-group"===t.type?t.messages.forEach(function(t){t.selectionIndex=e++}):"attachment-group"!==t.type&&"action-group"!==t.type||(t.selectionIndex=e++)}),t.lastSelectionIndex=e-1}(e),e}},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=n(12),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.render=function(){var t=this,e=this.props.group.actions?this.props.group.actions.length-1:0;return r.createElement("div",{className:this.getClassNames(),onClick:this.onRequestContainerSelection,onKeyDown:this.onKeyDown},this.props.group.actions&&this.props.group.actions.map(function(n,o){return r.createElement(i.default,{item:n,onActionExecute:t.props.onActionExecute,selected:o===t.state.selectedItemIndex,tabbable:t.props.isLastGroup&&o===t.state.selectedItemIndex,isFirstItemInGroup:0===o,isLastItemInGroup:o===e,key:o})}))},e.prototype.getClassNames=function(){return s.classNames("k-quick-replies")},e}(n(5).SelectableItemsContainer);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onKeyDown=function(t){t.keyCode===s.Keys.enter&&e.props.onActionExecute(e.props.item,t)},e}return o(e,t),e.prototype.render=function(){var t=this;return r.createElement("span",{className:this.getClassNames(),onClick:function(e){return t.props.onActionExecute(t.props.item,e)},ref:function(e){return t.elementToFocus=e},onKeyDown:this.onKeyDown,tabIndex:this.props.tabbable?0:-1},this.props.item.title||this.props.item.value)},e.prototype.getClassNames=function(){return i.classNames("k-quick-reply",{"k-first":this.props.isFirstItemInGroup},{"k-last":this.props.isLastItemInGroup},{"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected})},e}(n(3).FocusableUponSelection);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=n(6),a=function(t){function e(e){var n=t.call(this,e)||this;return n.state=Object.assign({},n.state,{isKeyboardNavigationLeftRight:n.isCardDeckLayout(n.props)}),n}return o(e,t),e.prototype.componentWillReceiveProps=function(e){t.prototype.componentWillReceiveProps.call(this,e),this.setState({isKeyboardNavigationLeftRight:this.isCardDeckLayout(e)})},e.prototype.render=function(){var t=this,e=this.isCardDeckLayout(this.props),n=r.createElement("div",{className:this.getClassNames(),onKeyDown:e?void 0:this.onKeyDown},this.props.group.attachments.map(function(e,n){return r.createElement(i.default,{item:e,template:t.props.itemTemplate,selected:n===t.state.selectedItemIndex,tabbable:t.props.isLastGroup&&n===t.state.selectedItemIndex,isFirstItemInGroup:0===n,isLastItemInGroup:n===t.getLastItemIndex(),onClick:function(){return t.onAttachmentClick(n)},key:n})}));return e?r.createElement("div",{className:"k-card-deck-scrollwrap",onKeyDown:this.onKeyDown},this.getLeftScrollBtn(),n,this.getRightScrollBtn()):n},e.prototype.getLastItemIndex=function(){return this.props.group.attachments.length-1},e.prototype.getLeftScrollBtn=function(){var t=this,e=null;return this.isCardDeckLayout(this.props)&&this.state.selectedItemIndex&&(e=r.createElement("button",{className:"k-button k-button-icon",onClick:function(){return t.onNavigateBtnClick(!1)}},r.createElement("span",{className:"k-icon k-i-arrow-chevron-left"}))),e},e.prototype.getRightScrollBtn=function(){var t=this,e=null;return this.isCardDeckLayout(this.props)&&this.state.selectedItemIndex!==this.getLastItemIndex()&&(e=r.createElement("button",{className:"k-button k-button-icon",onClick:function(){return t.onNavigateBtnClick(!0)}},r.createElement("span",{className:"k-icon k-i-arrow-chevron-right"}))),e},e.prototype.onAttachmentClick=function(t){this.onRequestContainerSelection(),this.setState({selectedItemIndex:t})},e.prototype.onNavigateBtnClick=function(t){this.onRequestContainerSelection(),this.navigate(t,1)},e.prototype.isCardDeckLayout=function(t){return"list"!==t.group.attachmentLayout},e.prototype.getClassNames=function(){return s.classNames({"k-card-deck":this.isCardDeckLayout(this.props)})},e}(n(5).SelectableItemsContainer);e.default=a},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(7),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=this.props.item;return r.createElement("div",{className:"k-timestamp"},s.provideIntlService(this).formatDate(t.timestamp,"D"))},e}(r.Component);e.default=i,s.registerForIntl(i)},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=n(16),a=n(6),c=n(4),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){return r.createElement("div",{className:this.getMsgGroupClassNames()},this.getAvatarView(),this.getAuthorNameView(),this.getGroupMessagesView())},e.prototype.getMsgGroupClassNames=function(){return s.classNames("k-message-group",{"k-no-avatar":!this.props.group.author.avatarUrl,"k-alt":c.isAuthor(this.props.user,this.props.group.messages[0])})},e.prototype.getAvatarView=function(){var t=null;return this.props.group.author.avatarUrl&&(t=r.createElement("img",{src:this.props.group.author.avatarUrl,className:"k-avatar"})),t},e.prototype.getAuthorNameView=function(){var t=null;return this.props.group.author.name&&(t=r.createElement("p",{className:"k-author"},this.props.group.author.name)),t},e.prototype.getGroupMessagesView=function(){var t=this,e=this.props.group.messages.length-1;return this.props.group.messages.map(function(n,o){var s=[r.createElement(i.default,{item:n,template:t.props.itemTemplate,selected:n.selectionIndex===t.props.selectedItemIndex,onRequestSelection:t.props.onRequestSelection,tabbable:o===e&&t.props.isLastGroup,isFirstItemInGroup:0===o,isLastItemInGroup:o===e,isOnlyItemInGroup:0===e,key:o})];return n.attachments&&1===n.attachments.length&&s.push(r.createElement(a.default,{item:n.attachments[0],template:t.props.attachmentTemplate,selected:!1,key:"att-"+o})),s})},e}(r.Component);e.default=p},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(2),i=n(7),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){var t=this;return r.createElement("div",{className:this.getClassNames(),tabIndex:this.props.tabbable?0:-1,onClick:function(){return t.props.onRequestSelection(t.props.item.selectionIndex)},onFocus:function(){return t.props.onRequestSelection(t.props.item.selectionIndex)},ref:function(e){return t.elementToFocus=e}},this.getTimestampView(),this.getMainView(),this.getStatusView())},e.prototype.getMainView=function(){return this.props.item.typing?r.createElement("div",{className:"k-bubble"},r.createElement("div",{className:"k-typing-indicator"},r.createElement("span",null),r.createElement("span",null),r.createElement("span",null))):this.props.template?r.createElement(this.props.template,{item:this.props.item}):this.props.item.text?r.createElement("div",{className:"k-bubble"},this.props.item.text):null},e.prototype.getTimestampView=function(){var t=null;return this.props.item.timestamp&&(t=r.createElement("time",{className:"k-message-time","aria-hidden":!this.props.selected},i.provideIntlService(this).formatDate(this.props.item.timestamp,"g"))),t},e.prototype.getStatusView=function(){var t=null;return this.props.item.status&&(t=r.createElement("span",{className:"k-message-status"},this.props.item.status)),t},e.prototype.getClassNames=function(){return s.classNames({"k-only":this.props.isOnlyItemInGroup},{"k-first":this.props.isFirstItemInGroup&&!this.props.isOnlyItemInGroup},{"k-last":this.props.isLastItemInGroup&&!this.props.isOnlyItemInGroup},{"k-state-selected":this.props.selected},{"k-state-focused":this.props.selected},"k-message")},e}(n(3).FocusableUponSelection);e.default=a,i.registerForIntl(a)},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=n(0),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={focused:!1},e.onInputKeyDown=function(t){t.keyCode===r.Keys.enter&&e.sendMessage(t)},e.sendMessage=function(t){if(e.props.onMessageSend){var n=e.inputEl.value;if(n){var o={author:e.props.user,text:n,timestamp:new Date};e.props.onMessageSend(o,t)}}e.inputEl.focus(),e.inputEl.value=null},e}return o(e,t),e.prototype.render=function(){var t=this;return s.createElement("div",{className:"k-message-box"},s.createElement("input",{type:"text",className:this.getClassNames(),placeholder:"Type a message...",onKeyDown:this.onInputKeyDown,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},ref:function(e){return t.inputEl=e}}),s.createElement("button",{className:"k-button k-flat k-button-icon k-button-send",onClick:this.sendMessage,"aria-label":"Send...",dir:this.props.isDirectionRightToLeft?"rtl":void 0},s.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 16 16"},s.createElement("path",{d:e.buttonIconPath}))))},e.prototype.focusInput=function(){this.inputEl.focus()},e.prototype.getClassNames=function(){return r.classNames({"k-state-focused":this.state.focused},"k-input")},e.buttonIconPath="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z",e}(s.Component);e.default=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(19),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onBtnClick=function(t,n){e.props.onActionExecute&&e.props.onActionExecute.call(void 0,{syntheticEvent:n,nativeEvent:n.nativeEvent,action:t,target:e})},e}return o(e,t),e.prototype.render=function(){return r.createElement("div",{className:"k-card"},r.createElement("img",{className:"k-card-image",src:this.props.imageUrl,style:{maxWidth:this.props.imageMaxWidth}}),r.createElement("div",{className:"k-card-body"},this.getTitleView(),this.getSubtitleView()),r.createElement("div",{className:"k-card-actions k-card-actions-vertical"},this.getActionsView()))},e.prototype.getActionsView=function(){var t=this;return this.props.actions.map(function(e,n){return r.createElement("span",{className:"k-card-action",key:n},r.createElement(s.Button,{look:"flat",onClick:function(n){return t.onBtnClick(e,n)}},e.title))})},e.prototype.getTitleView=function(){var t=null;return this.props.title&&(t=r.createElement("h5",{className:"k-card-title"},this.props.title)),t},e.prototype.getSubtitleView=function(){var t=null;return this.props.subtitle&&(t=r.createElement("h6",{className:"k-card-subtitle"},this.props.subtitle)),t},e}(r.Component);e.HeroCard=i},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1),s=n(2),i={button:"k-button",bare:"k-bare",flat:"k-flat",outline:"k-outline",primary:"k-primary","state-active":"k-state-active","button-icon":"k-button-icon","state-disabled":"k-state-disabled","group-start":"k-group-start","group-end":"k-group-end","button-group":"k-button-group","button-group-stretched":"k-button-group-stretched",ltr:"k-ltr",rtl:"k-rtl"},a=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},u=i;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClick=function(t){n.activate(),n.props.onClick&&n.props.onClick.call(void 0,t)},n.state={active:!0===n.props.selected&&!0===n.props.togglable},n}return a(e,t),e.prototype.componentWillReceiveProps=function(t){this.setState({active:!0===t.selected&&!0===this.props.togglable})},e.prototype.render=function(){var t,e=this.props,n=e.children,r=e.look,i=e.primary,a=(e.selected,e.togglable),l=e.icon,f=e.iconClass,m=e.imageUrl,h=e.imageAlt,d=e.className,y=(e.onClick,p(e,["children","look","primary","selected","togglable","icon","iconClass","imageUrl","imageAlt","className","onClick"])),g={className:Object(s.classNames)([u.button],((t={})[u[""+r]]="default"!==r,t[u.primary]=i,t[u["state-disabled"]]=this.props.disabled,t[u["state-active"]]=this.state.active,t[u["button-icon"]]=void 0===n,t),[u[""+this.props.dir]],d),onClick:this.handleClick,role:a?"checkbox":"button","aria-disabled":this.props.disabled||void 0,"aria-checked":this.state.active},v=function(t){var e=t.imageUrl,n=t.icon,r=t.iconClass,i=t.imageAlt;if(e)return o.createElement("img",{role:"presentation",className:"k-image",alt:i,src:e});if(n){var a=Object(s.classNames)("k-icon","k-i-"+n);return o.createElement("span",{role:"presentation",className:a})}return r?o.createElement("span",{role:"presentation",className:r}):null}({icon:l,iconClass:f,imageUrl:m,imageAlt:h});return o.createElement("button",c({},g,y),v,n)},e.prototype.activate=function(){this.props.togglable&&this.setState({active:!this.state.active})},e.propTypes={children:r.oneOfType([r.arrayOf(r.element),r.string]),look:r.oneOf(["default","bare","flat","outline"]),primary:r.bool,selected:r.bool,togglable:r.bool,icon:r.string,iconClass:r.string,imageUrl:r.string,imageAlt:r.string},e.defaultProps={look:"default",primary:!1,selected:!1,togglable:!1},e}(o.Component),f=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h=i,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._element=null,e}return f(e,t),e.prototype.render=function(){var t,e=this,n=this.mapButtons(this.props.children),r=Object(s.classNames)([h["button-group"]],((t={})[h["state-disabled"]]=this.props.disabled,t[h["button-group-stretched"]]=!!this.props.width,t),this.props.className),i={className:r,style:{width:""+this.props.width},dir:this.props.dir,role:"group","aria-disabled":this.props.disabled||void 0,"aria-multiselectable":!0};return o.createElement("div",m({ref:function(t){e._element=t}},i,{className:r}),n)},e.prototype.mapButtons=function(t){var e=this,n=o.Children.count(t);return o.Children.map(t,function(t,r){return o.isValidElement(t)?e.renderButton(t,r,r===n-1):t})},e.prototype.renderButton=function(t,e,n){var r,i=void 0!==this.props.dir?"rtl"===this.props.dir:this._element&&"rtl"===getComputedStyle(this._element).direction||!1,a=Object(s.classNames)(((r={})[h["group-start"]]=i?n:0===e,r[h["group-end"]]=i?0===e:n,r)),c=m({},t.props,{className:a,style:{width:""+this.props.width},disabled:this.props.disabled||void 0});return o.cloneElement(t,c,t.props.children)},e.propTypes={children:r.arrayOf(r.element),className:r.string,disabled:r.bool,width:r.string,dir:r.string},e.defaultProps={disabled:!1},e}(o.Component);n.d(e,"Button",function(){return l}),n.d(e,"ButtonGroup",function(){return d})}])});
